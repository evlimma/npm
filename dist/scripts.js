(()=>{var e={189:()=>{$((function(){$(document).on("click",".btUploadFile",(function(e){e.preventDefault(),$(this).siblings("[type='file']").trigger("click")})),$(document).on("change",".file_doc_annex",(function(e){var t=$(this).siblings("[type='text']");if(""!==$(this).val()){var n=$(this)[0].files[0].name,o=$(this)[0].files[0].size;"pdf"===n.split(".").pop().toLowerCase()?o/1024/1024>10?$().funAvisoLight("Alerta|Permitido apenas arquivos com até 10MB!",!0):t.val(n):$().funAvisoLight("Alerta|Permitido apenas arquivo no formato 'PDF'!",!0)}else t.val("")}))}))},644:()=>{$((function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.parent().find(".PesquisarDbJs"),o=e.parent().find("ul.MenuSuspensoDb");$.ajax({url:n.attr("url"),type:"POST",data:{intxt:n.val()},dataType:"json",beforeSend:function(){e.addClass("ProcurandoLoad"),e.removeClass("LupaPesquisaLab")},success:function(e){if(e.success){o.empty();var n="";$.each(e.success,(function(e,t){n+="<li seletor='"+e+"' onclick='funMenuSuspensoDbLi(this);'>"+t+"</li>"})),t&&(n+="<li class='addCustom'>(+) Adic. personalizado</li>"),o.prepend(n).show()}},error:function(e){console.log(e),$().funAvisoLight("Erro|Não foi possível processar as informações."),o.hide()},complete:function(){e.removeClass("ProcurandoLoad"),e.addClass("LupaPesquisaLab")}})}$(document).on("keypress",".PesquisarDbJs",(function(e){var t=$(this).parent().find(".LupaPesquisaLab");13===(e.keyCode?e.keyCode:e.which)&&(e.preventDefault(),t.trigger("click"))})),$(document).on("focus",".clickTypeSelect",(function(t){t.stopPropagation(),t.preventDefault(),e($(this),!0)})),$(document).on("click",".setaSelect",(function(e){e.preventDefault(),$(this).parents(".inDescriptionCustom").find(".PesquisarDbJs").addClass("clickTypeSelect"),$(this).siblings(".clickTypeSelect").focus()})),$(document).on("click",".LupaPesquisaLab",(function(t){t.stopPropagation(),e($(this))})),$(document).on("click",".mega_popup",(function(e){e.stopPropagation(),$(this).remove()})),$(document).on("click",".fecha_mega_popup",(function(e){e.stopPropagation(),e.preventDefault(),$(".mega_popup").remove()})),$(document).on("click",".mega_popup section",(function(e){e.stopPropagation()})),$(document).on("click","[href^='m-popup']",(function(e){e.preventDefault();var t=$(this).parents("tr").find("span a span").first().text(),n=$(this).attr("href").replace("m-popup/","").split("/"),o=n[0],i=n[1],a=$("#txt"+o);a.val(t).attr("valorBanco",t).removeClass("inAvisoCorrecao").removeAttr("bloqEnv"),$("#in"+o).val(i),updateDetailedDescription=!0,a.parents(".caixa").find("span.avisosCorrecao").remove(),$(".mega_popup").remove()})),$(document).on("click",".tblPesquisaLab",(function(e){e.preventDefault();var t=$(this).parent(),n=t.find(".PesquisarDbJs").attr("url")+"Mpopup",o=t.find("input[type='text']").attr("id"),i=t.find("label").text().replace(/[*:]/g,"");$().ajaxSingle(n,{func_name:"tblPesquisaLab",destiny_id:o,labelContent:i})})),window.tblPesquisaLab=function(e){height=$(window).height()-135,e.labelContent=var_empty(e.labelContent)?"Proposta":e.labelContent;var t="<div class='mega_popup' height='"+height+"'>    <section>        <div class='menu_left'>            <div class='menu_locked'>                <a class='nav_link fecha_mega_popup' href='"+root+"/comercial/propostas'>                    <span><img src='"+root+"/src/images/iconefechar.svg'></span>                    <span>Fechar</span>                </a>                <a class='nav_link SemPermissao' href='#'>                    <span><img src='"+root+"/src/images/iconeexportar.svg'></span>                    <span>Exportar</span>                </a>            </div>        </div>        <div class='content_rigth'>                <div class='title_main title_mega'>                   <div class='title_description' style='background-image: url('/src/images/iconefechar.svg')'>                       <span><img src='"+root+"/src/images/banco.svg'></span>                       <h1 style='border-bottom-color: #2369AC;'>"+e.labelContent+"</h1>                   </div>                   <div class='bt_right'>                       <a href='#menu_responsive' title='Menu'></a>                   </div>               </div>            "+e.success+"        </div>     </section></div>";$(t).prependTo(".content_body"),$(".mega_popup .containerTblPadrao").css("height",height+"px")},$(document).on("click","li[seletor]",(function(e){var t=$(this).parents(".inDescriptionCustom").find(".PesquisarDbJs");t.prop("readonly",!0),t.addClass("clickTypeSelect")})),$(document).on("keydown",(function(e){27===e.keyCode&&$(".mega_popup").remove()}))}))},89:()=>{$((function(){$(document).on("click",".validateDbVal:not(.validateDbValText)",(function(e){$(this).parent().find(".setaValidateDbVal").trigger("click")})),$(document).on("click",".liMenuSuspenso",(function(e){e.stopPropagation(),$(this).closest(".caixa").find(".validateDbVal").val($(this).html()).attr("bloqenv","").removeClass("inAvisoCorrecao").removeClass("validateDbValText").prop("readonly",!0),$(this).closest(".caixa").find(".seletorCampo").val($(this).attr("seletor")),$(this).closest(".MenuSuspensoDb").remove()})),$(document).on("click",".addCustom",(function(e){e.preventDefault(),e.stopPropagation(),$(this).closest(".caixa").find(".validateDbVal").val("").prop("readonly",!1).focus().addClass("validateDbValText"),$(this).closest(".caixa").find(".seletorCampo").val(""),$(this).closest(".MenuSuspensoDb").remove()})),$(document).on("click",".setaValidateDbVal",(function(e){e.preventDefault(),e.stopPropagation(),$("ul.MenuSuspensoDb.ds-block").remove(),$("*").removeClass("validateDbValFocus");var t=$(this),n=t.parent().find("input.validateDbVal"),o=t.parents("form"),i=t.parent();n.addClass("validateDbValFocus"),o.ajaxSubmit({url:n.attr("url"),type:"POST",data:o.serialize(),dataType:"json",beforeSend:function(){t.addClass("setaValidateDbValLoad")},success:function(e){var t="<ul class='MenuSuspensoDb ds-block'>";e.success&&$.each(e.success,(function(e,n){t+="  <li seletor='"+e+"' class='liMenuSuspenso'>"+n+"</li>"})),t+="  <li class='addCustom'>(+) Adic. personalizado</li>",t+="</ul>",i.prepend(t)},error:function(e){console.log(e),$().funAvisoLight("Erro|Não foi possível processar as informações.")},complete:function(){t.removeClass("setaValidateDbValLoad")}})}))}))},45:()=>{$((function(){window.resizableCol=function(e){console.log(e)},$.fn.resizableLoad=function(){0!==$("th.resizable:not(:last-child)").length&&($("th.resizable:not(:last-child)").resizable({handles:"e",minWidth:60,start:function(e,t){},resize:function(e,t){},stop:function(e,t){table=$(this).parents(".blocTblPadrao");var n=[];table.find("th").each((function(e,t){n.push($(this).attr("colid"))})),$().ajaxSingle(root+"/resizableCol",{func_name:"resizableCol",idordercol:table.attr("idordercol"),orderCol:n,colid:$(this).attr("colid"),width_end:t.size.width})}}),$(".scrollable-content").each((function(){var e=$(this).width(),t=$(this).find("table").find("thead th"),n=0;t.each((function(e){n+=parseFloat($(this).attr("db_width"))})),e>n&&t.last().css("width","")})))},$().resizableLoad(),window.btDeleteLine=function(e){e.addClass("caixaTranspFilhos"),e.find("select").prop("disabled",!0),e.find().css("text-decoration","line-through"),e.find("input.hiActivField").val("del"),e.find("input:not([type='hidden'])").prop("disabled",!0)},window.checkTit=function(e){0===parseInt(e.find("tbody tr").length)&&(e.find("thead").addClass("clean"),e.find("tfoot").addClass("clean")),$(".loadSubtotal").trigger("change")},$(document).on("click","[href^='#confirmDelLin']",(function(e){e.preventDefault(),$("#bgLightBox").remove();var t=$(this).attr("href").split("|"),n=$("a[field-seq='"+t[1]+"']").parents("tr");btDeleteLine(n)})),$(document).on("click","a[href='btDeleteLine']",(function(e){e.preventDefault();var t=$(this).parents(".containerTblPadrao"),n=$(this).attr("field-seq")>=999999999999,o=$(this).parents("tr"),i=o.find("[name^='indescription']");if(!($(this).parents(".caixaTranspFilhos").length>0))if("true"!==$(this).attr("field-required")||1!==t.find("tbody tr:not(.caixaTranspFilhos)").length){if(n)return o.remove(),void checkTit(t);if("true"!==$(this).attr("field-confirm"))btDeleteLine(o),checkTit(t);else{var a=["Deseja realmente excluir este link?","<p class='indentado'><strong>Identificação: </strong> "+i.val()+"</p>"];openLightBox("AVISO!",a[0]+a[1],"Erro","SIM","#confirmDelLin|"+$(this).attr("field-seq"),"NÃO","#close")}}else $().funAvisoLight("Erro|Não foi possível excluir, é necessário pelos menos um item no cadastro.")})),$("body").on("change",".loadSubtotal",(function(e){var t=0;$(this).parents(".tblPadrao tbody").find("tr:not('.caixaTranspFilhos')").each((function(e,n){var o=$(this).find("[name^='inamount']").val(),i=$(this).find("[name^='inunit_cost_pt']").val(),a=o*funConverteMoedaParaEn(i);""!==o&&""!==i?$(this).find("[name^='insubtotal']").val(funConverteMoedaParaPt(a.toFixed(2),!1)):$(this).find("[name^='insubtotal']").val("0,00"),t+=a})),$(".valorTotalNum").html(funConverteMoedaParaPt(t.toFixed(2)))})),$("body").on("click",".containerTblPadrao .btAddline",(function(e){e.preventDefault();var t=$(this).parents(".containerTblPadrao");t.find("thead").removeClass("clean"),t.find("tfoot").removeClass("clean"),$().ajaxSingle($(this).attr("href"),{validateHead:$(this).attr("validatehead")})})),window.returnLineNewItem=function(e){$(".returnLineNewItem").find("tbody").append(e.lineNew)},$(document).on("click","input.btlimparfiltro",(function(){var e=$(this).siblings("input[type='text']");e.val(""),e.focus(),$(this).hide(),$(this).siblings(".btfiltro").trigger("click")})),$(document).on("keyup",".buscaRapida input[type='text']",(function(e){$(this).siblings("input.btlimparfiltro").css("display",""===$(this).val()?"none":"block"),13===e.which&&$(this).siblings(".btfiltro").trigger("click")})),$(document).on("keyup",".column_filter",(function(e){var t=$(this).parents(".blocTblPadrao");13===e.which&&t.find(".btfiltro").trigger("click")})),$(document).on("change",".itensPorPag",(function(e){$(this).parents(".blocTblPadrao").find(".btfiltro").trigger("click")})),$(document).on("click","[href='#prev']",(function(e){e.preventDefault();var t=$(this).parents(".blocTblPadrao"),n=t.find(".itensPorPag").val(),o=t.find(".itemInicio").text();1!==parseFloat(o)&&t.find(".btfiltro").trigger("click",{itemInicioProx:parseFloat(o)-n})})),$(document).on("click","[href='#next']",(function(e){e.preventDefault();var t=$(this).parents(".blocTblPadrao"),n=t.find(".itensPorPag").val(),o=t.find(".itemInicio").text(),i=parseFloat(n)+parseFloat(o),a=t.find(".itemFim").text(),r=t.find(".totalRec").text();parseFloat(a)!==parseFloat(r)&&t.find(".btfiltro").trigger("click",{itemInicioProx:i})})),$(document).on("click","[href='#limpar-filtros']",(function(e,t){var n=$(this).parents(".blocTblPadrao");n.find(".column_filter").val(""),n.find("[name='v']").val(""),n.find(".imagem_filtro").css({"background-image":"url("+root+"/src/images/contem.svg)"}),n.find(".column_filter").attr("filter-type","contem"),n.find(".btfiltro").trigger("click")})),$(document).on("click",".btfiltro",(function(e,t){e.preventDefault();var n=$(this).parents(".blocTblPadrao"),o=$(this).data(),i=$(this).parents(".blocTblPadrao"),a=[],r=[],s=[];$.each(n.find(".column_filter"),(function(e,t){a.push($(this).attr("field-name")),r.push($(this).val()),s.push($(this).attr("filter-type"))}));var l=[];$(".inEscopo:checked").each((function(e,t){l.push($(this).val())})),$().ajaxSingle(o.post,{func_name:"searchFull",father:i.attr("idmain"),itensPorPag:i.find(".itensPorPag").val(),itemInicio:var_empty(t)?1:t.itemInicioProx,v:i.find("[name='v']").val(),csrf:$("[name='csrf']").val(),scopeSelect:l,fieldsName:a,fieldsFilter:r,filterType:s})})),window.searchFull=function(e){var t=$("[idmain='"+e.father+"']").parent();t.find(".blocTblPadrao").replaceWith(e.success),t.find("[name='v']").val(e.v),t.find("[name='v']").focus(),$.each(e.fieldsName,(function(n,o){t.find("[field-name='"+o+"']").val(e.fieldsFilter[n]),t.find("[field-name='"+o+"']").attr("filter-type",e.filterType[n]),t.find("[field-image='"+o+"']").css({"background-image":"url("+root+"/src/images/"+e.filterType[n]+".svg)"})})),$(".mega_popup").length&&(height=$(document).height()-135,$(".mega_popup .containerTblPadrao").css("height",height+"px")),""!==e.v&&t.find(".btlimparfiltro").show(),$().funTableSorter(),$().resizableLoad()},$(document).on("click","[href='#filter_col']",(function(e){e.preventDefault(),e.stopPropagation(),$(".linha_filtro").find(".bloco_filtro").remove(),$(this).parents(".linha_filtro").append("\n            <div class='bloco_filtro'>\n                <a href='#limpar_filtro' title='Limpar filtro' class='item_filtro limpar_filtro'>Limpar filtro</a>\n                <a href='#contem' title='Contém' class='item_filtro contem'>Contém</a>\n                <a href='#nao_contem' title='Não contém' class='item_filtro nao_contem'>Não contém</a>\n            </div>\n        "),$(".bloco_filtro").fadeIn()})),$(document).on("click","[href='#limpar_filtro']",(function(e){e.preventDefault(),$(this).parents("td").find(".column_filter").val(""),$(this).parents(".blocTblPadrao").find(".btfiltro").trigger("click")})),$(document).on("click","[href='#contem']",(function(e){e.preventDefault();var t=$(this).parents("td");t.find(".imagem_filtro").css({"background-image":"url("+root+"/src/images/contem.svg)"}),t.find(".column_filter").attr("filter-type","contem"),t.find(".column_filter").focus(),$(".bloco_filtro").remove()})),$(document).on("click","[href='#nao_contem']",(function(e){e.preventDefault();var t=$(this).parents("td");t.find(".imagem_filtro").css({"background-image":"url("+root+"/src/images/nao_contem.svg)"}),t.find(".column_filter").attr("filter-type","nao_contem"),t.find(".column_filter").focus(),$(".bloco_filtro").remove()})),$(document).on("click",".bloco_filtro",(function(e){e.stopPropagation()})),$(document).on("click","body",(function(e){$(".bloco_filtro").remove()})),$(document).on("click",".sort-button",(function(e){e.preventDefault();var t=$(this).closest("th"),n=t.closest("table"),o=t.index(),i=t.data("sortOrder")||0;i=0===i?1:0,t.data("sortOrder",i),n.trigger("sorton",[[[o,i]]])})),$.fn.funTableSorter=function(){$(".tablesorter").tablesorter({headers:{1:{},4:{}}})},$().funTableSorter()}))},543:()=>{function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}$((function(){$.fn.ajaxSingle=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i={url:e,type:"POST",data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,dataType:"json",beforeSend:$().processoAjaxBg(!0,n),success:function(e){e.message&&$().funAvisoLight(e.message),e.newtab&&window.open(e.newtab,"_blank"),e.redirect&&(window.location.href=e.redirect),e.method&&window[e.method.function](e.method.variables)},error:function(e){console.error(e),$().funAvisoLight("Erro|Não foi possível processar as informações."),$("#bgLightBox").remove()},complete:function(){o&&$().processoAjaxBg(!1)}};t?t.ajaxSubmit(i):$.ajax(i)},$(document).on("click","[href='ajax-button']",(function(e){e.preventDefault();var t=$(this).data(),n=var_empty(t.param)?null:t.param,o=var_empty(t.form)?null:t.form,i=!var_empty(t.percentual)&&t.percentual,a=!!var_empty(t.remove_process)||t.remove_process;$().ajaxSingle(t.post,n,o,i,a)})),String.prototype.replaceAll=function(t){var n,o="",i=function(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,n){if(t){if("string"==typeof t)return e(t,n);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){o=o.call(t)},n:function(){var e=o.next();return s=e.done,e},e:function(e){l=!0,r=e},f:function(){try{s||null==o.return||o.return()}finally{if(l)throw r}}}}(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;for(var r in t){var s=t[r];a===r&&(a=s)}o+=a}}catch(e){i.e(e)}finally{i.f()}return o},window.numberFormat=function(e,t,n,o){var i=e.toString();x=(i+="").split("."),x1=x[0],x2=x.length>1?n+x[1]:"";for(var a=/(\d+)(\d{3})/;a.test(x1);)x1=x1.replace(a,"$1"+o+"$2");return x1+x2},window.var_empty=function(e){return void 0===e||null==e||0===e||""===e},$.fn.funAvisoLight=function(e){$().processoAjaxBg(!1),function(e){var t="Aviso"===(e=e.split("|"))[0]?"avisoVerde":"Info"===e[0]?"avisoLaranja":"avisoVermelho";$("body").prepend("<div class='avisoRapido "+t+"'>"+e[1]+"</div>"),$(".avisoRapido").animate({top:"+=50px",opacity:"0.9"},"fast",(function(){setTimeout((function(){$(".avisoRapido").animate({top:"-=50px",opacity:"0"},"fast",(function(){$(".avisoRapido").remove()}))}),4e3)}))}(e)},$.fn.processoAjax=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?($("body").prepend("<div class='processandoAjax' "+(t?"style='top: 30px; bottom: auto;'":"")+">"+e+"</div>"),$(".processandoAjax").animate({opacity:"0.9"},"fast")):$(".processandoAjax").animate({opacity:"0"},"fast",(function(){$(".processandoAjax").remove()}))},$.fn.processoAjaxBg=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?($(".processandoAjaxFixed").remove(),$(".preloadBackgroud").remove(),$(".processandoPercentual").remove()):(0===$(".processandoAjaxFixed").length&&$("body").prepend("<div class='processandoAjaxFixed'>Aguarde, carregando...</div>"),0===$(".preloadBackgroud").length&&$("body").prepend("<div class='preloadBackgroud'></div>"),e&&0===$(".processandoPercentual").length&&$("body").prepend("<div class='processandoPercentual'>0%</div>"))},$.fn.processPercent=function(e,t){$(".processandoPercentual").html(Math.round(100*e/t)+"%")}}))},916:(e,t,n)=>{var o={"./blocBox.js":189,"./blocSearchInput.js":644,"./blocSelectAddLine.js":89,"./dynamicTable.js":45,"./support.js":543};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id=916}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),[n(916)].forEach((function(e){e.keys().forEach(e)}))})();